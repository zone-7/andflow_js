<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<title>andflow</title>
	<script src="../depends/jsplumb.min.js"></script>
	<script src="../depends/html2canvas.min.js"></script>
	<script src="../depends/canvg.js"></script>

	<link rel="stylesheet" href="../src/css/andflow.css">
	<link rel="stylesheet" href="../src/css/andflow_themes.css">
	<link rel="stylesheet" href="../src/css/andflow_themes_action.css">

	<script src="../src/js/andflow.js"></script>
	<script src="../src/js/andflow_themes.js"></script>

	<link rel="stylesheet" href="../src/css/demo.css">
	<script src="../src/js/demo.js"></script>
</head>

<body>
	<div class="bander">
		<div class="logo"><img src="../img/logo.jpeg" /></div>
		<div class="title"><a href="index.html">Andflow</a></div>
		<div class="subtitle"><a href="index.html">首页</a> > 自定义颜色</div>

		<div class="menus">
			<a href="index.html"><img src="../img/demos.png" />Demos</a>
			<a href="https://github.com/zone-7/andflow_js" target="_blank"><img src="../img/github.png" />Github</a>

		</div>
	</div>

	<div id="andflow" style="width: 100%;height: 600px;padding:0px;">
	</div>

	<br />
	action: <input id="action_color" value="green" />
	group:<input id="group_color" value="#92b5f0" />
	list:<input id="list_color" value="#7ce37c" />
	tip:<input id="tip_color" value="#83ef83" />

	<button onclick="setColor()">设置颜色</button>
</body>
<script>


</script>
<script>

	var flowModel = {
		"code": "",
		"name": "",
		"show_action_body": "true",
		"show_action_content": "true",
		"theme": "flow_theme_default",
		"link_type": "Flowchart",
		"params": [],
		"actions": [
			{
				"id": "4e7fed4b5f90466a856cb743294e383c",
				"left": "51px",
				"top": "27px",
				"name": "begin",
				"params": {},
				"title": "开始",
				"theme": "action_theme_icon",
				"icon": "begin.png",
				"width": "65px",
				"height": "49px"
			},
			{
				"id": "c3747d543b724800ab792de258c9f64e",
				"left": "70px",
				"top": "230px",
				"name": "end",
				"params": {},
				"title": "结束",
				"theme": "action_theme_icon",
				"icon": "end.png",
				"width": "60px",
				"height": "49px"
			},
			{
				"id": "7e56400e9b634045941db181e7aaccb0",
				"left": "200px",
				"top": "20px",
				"name": "script",
				"border_color": "green",
				"header_text_color": "green",
				"params": {},
				"title": "执行脚本",
				"theme": "action_theme_zone",
				"icon": "script.png",
				"width": "180px",
				"height": "80px",
				"content": { "content_type": "msg", "content": "ID: 7e56400e9b634045941db181e7aaccb0" }
			},
			{
				"id": "3aff58a55237434a9a1d3b6253e7f681",
				"left": "440px",
				"top": "40px",
				"name": "script",
				"params": {},
				"title": "执行脚本",
				"theme": "action_theme_icon",

				"border_color": "#FF00FF",
				"header_text_color": "#FF00FF",
				"icon": "script.png",
				"width": "52px",
				"height": "43px"
			},
			{
				"id": "51de62db588d4993aa2341fde8277f9a",
				"left": "60px",
				"top": "150px",
				"name": "script",
				"params": {},
				"border_color": "gray",
				"header_text_color": "gray",
				"title": "执行脚本",
				"theme": "action_theme_box",

				"icon": "script.png",
				"width": "120px",
				"height": "50px"
			},
			{
				"id": "98cc1c82a40e4e92b6c1b6ab9b56be77",
				"left": "360px",
				"top": "170px",
				"name": "cmd",
				"params": {
					"timeout": "10000"
				},
				"content": { "content_type": "msg", "content": "hello" },

				"title": "系统命令",
				"icon": "cmd.png",
				"width": "120px",
				"height": "80px"
			}
		],
		"groups": [
			{
				"id": "group_77cdaa0e62e44a0cbe25c0bd919ecdf8",
				"name": "group",
				"left": "540px",
				"top": "100px",
				"border_color": "#92b5f0",
				"header_color": "#92b5f0",
				"body_color": "white",
				"actions": [],
				"members": [],
				"width": "200px",
				"height": "200px",
				"title": "hello",
				"des": "world, ID: group_77cdaa0e62e44a0cbe25c0bd919ecdf8"
			}
		],
		"lists": [
			{
				"id": "list_c3d7863953854bbbb900f09f24db02b6",
				"name": "erd",
				"title": "列表",
				"left": "540px",
				"top": "330px",
				"border_color": "#7ce37c",
				"header_color": "#7ce37c",
				"body_color": "white",
				"item_color": "#a4f7a4",
				"items": [
					{
						"id": "list_item_list_c3d7863953854bbbb900f09f24db02b6_0",
						"title": "a"
					},
					{
						"id": "list_item_list_c3d7863953854bbbb900f09f24db02b6_1",
						"title": "b"
					},
					{
						"id": "list_item_list_c3d7863953854bbbb900f09f24db02b6_2",
						"title": "c"
					},
					{
						"id": "list_item_list_c3d7863953854bbbb900f09f24db02b6_3",
						"title": "d"
					}
				],
				"width": "150px",
				"height": "200px"
			}
		],
		"links": [
			{
				"source_id": "7e56400e9b634045941db181e7aaccb0",
				"target_id": "3aff58a55237434a9a1d3b6253e7f681"
			},
			{
				"source_id": "3aff58a55237434a9a1d3b6253e7f681",
				"target_id": "51de62db588d4993aa2341fde8277f9a"
			},
			{
				"source_id": "4e7fed4b5f90466a856cb743294e383c",
				"target_id": "7e56400e9b634045941db181e7aaccb0"
			},
			{
				"source_id": "51de62db588d4993aa2341fde8277f9a",
				"target_id": "98cc1c82a40e4e92b6c1b6ab9b56be77"
			},
			{
				"source_id": "98cc1c82a40e4e92b6c1b6ab9b56be77",
				"target_id": "c3747d543b724800ab792de258c9f64e"
			}
		],
		"tips": [
			{
				"id": "tip_dc14b91900ee468b8a368d97db66b071",
				"name": "tip",
				"left": "280px",
				"top": "360px",
				"content": "1111, ID: tip_dc14b91900ee468b8a368d97db66b071",
				"width": "188px",
				"height": "135px",
				"body_color": "#83ef83"
			},
			{
				"id": "tip_dc14b91900ee468b8a368d97db66b072",
				"name": "tip",
				"left": "10px",
				"top": "360px",
				"content": "2222",
				"width": "188px",
				"height": "135px",
				"body_color": "#e4b8b8"
			}
		]
	};


	var options = {
		tags: tags,            //组件过滤标签列表
		metadata: metadata,    //组件元素
		flowModel: flowModel,  //流程模型
		img_path: "../img/meta/",
		editable: true,   //是否可编辑，默认true
		show_toolbar: true,
		metadata_position: 'default', //top,left,default
		render_action: function (metadata, action, html) { return html; },//节点渲染
		render_action_helper: function (metadata, html) { return null },  //节点拖拉渲染
		render_state_list: function (datas) { return null },             //流程状态列表渲染
		render_link: function (conn, linktype, linkdata) { return null },   //连接线渲染
		event_group_click: function (group) {

		},
		event_group_dblclick: function (group) {
		},
		//节点单击事件
		event_action_click: function (metadata, action) {


		},
		//节点双击事件
		event_action_dblclick: function (metadata, action) {


		},
		//连线单击事件
		event_link_click: function (link) {

		},
		//连线双击事件
		event_link_dblclick: function (link) {


		},
		//画图板单击事件
		event_canvas_click: function (e) {

		}
	}

	andflow.newInstance("andflow", options);
	andflow.showFlow();

	function setColor() {
		var action_color = document.getElementById("action_color").value;
		var group_color = document.getElementById("group_color").value;
		var list_color = document.getElementById("list_color").value;
		var tip_color = document.getElementById("tip_color").value;

		andflow.setActionBorderColor("7e56400e9b634045941db181e7aaccb0", action_color);
		andflow.setActionHeaderColor("7e56400e9b634045941db181e7aaccb0", action_color);
		andflow.setActionHeaderTextColor("7e56400e9b634045941db181e7aaccb0", action_color);
		andflow.setActionBodyColor("7e56400e9b634045941db181e7aaccb0", 'white');
		andflow.setActionBodyTextColor("7e56400e9b634045941db181e7aaccb0", 'black');

		andflow.setGroupBorderColor("group_77cdaa0e62e44a0cbe25c0bd919ecdf8", group_color);
		andflow.setGroupHeaderColor("group_77cdaa0e62e44a0cbe25c0bd919ecdf8", group_color);
		andflow.setGroupHeaderTextColor("group_77cdaa0e62e44a0cbe25c0bd919ecdf8", 'black');
		andflow.setGroupBodyColor("group_77cdaa0e62e44a0cbe25c0bd919ecdf8", 'yellow');
		andflow.setGroupBodyTextColor("group_77cdaa0e62e44a0cbe25c0bd919ecdf8", 'black');



		andflow.setListBorderColor("list_c3d7863953854bbbb900f09f24db02b6", list_color);
		andflow.setListHeaderColor("list_c3d7863953854bbbb900f09f24db02b6", list_color);
		andflow.setListHeaderTextColor("list_c3d7863953854bbbb900f09f24db02b6", 'black');
		andflow.setListItemColor("list_c3d7863953854bbbb900f09f24db02b6", list_color);
		andflow.setListItemTextColor("list_c3d7863953854bbbb900f09f24db02b6", 'black');


		andflow.setTipBorderColor("tip_dc14b91900ee468b8a368d97db66b071", tip_color);
		andflow.setTipBodyColor("tip_dc14b91900ee468b8a368d97db66b071", tip_color);
		andflow.setTipBodyTextColor("tip_dc14b91900ee468b8a368d97db66b071", 'black');

	}
</script>

</html>